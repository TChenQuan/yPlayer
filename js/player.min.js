"use strict";var vm=new Vue({el:"#ym-player",data:{song_name:"",album_name:"",artist_name:"",showlrc:[],musicArray:"",playingMusic:"",havevoice:!0,playStatus:!0},created:function(){this.loadMusic()},methods:{getJSON:function(t){var e=new Promise(function(e,a){function s(){4===this.readyState&&(200===this.status?e(this.response):a(new Error(this.statusText)))}var r=new XMLHttpRequest;r.open("GET",t),r.onreadystatechange=s,r.responseType="json",r.setRequestHeader("Accept","application/json"),r.send()});return e},changeplay:function(){var t=document.getElementById("player");0==this.playStatus?(this.playStatus=!0,t.play()):(this.playStatus=!1,t.pause())},loadMusic:function(t){var e=t?"getSong.php?id="+t:"getSong.php?id=0";this.getJSON(e).then(function(t){var e=document.getElementById("player");vm.musicArray=t.tracks,vm.musicLength=vm.musicArray.length;var a=document.getElementsByClassName("ym-album")[0];if(a.style.backgroundImage="url("+t.cover+")","no"!=t.lrc)for(var s in t.lrc)vm.showlrc.push({lyric:t.lrc[s]});else vm.showlrc.push({lyric:"暂无歌词"});vm.song_name=t.music_name,vm.album_name=t.album_name,vm.artist_name=t.artists,e.setAttribute("src",t.mp3),e.volumn=.5,e.play()},function(t){alert("服务器通信异常")})},changevoice:function(t){var e=document.getElementById("player");e.volume=vol/10},nextmusic:function(){var t=document.getElementById("player"),e=document.getElementsByClassName("ym-album")[0],a=Math.ceil(Math.random()*this.musicLength),s=this.musicArray[a].id;this.showlrc=[],this.getJSON("getLyrics.php?id="+s).then(function(t){if("no"!=t.lrc)for(var e in t.lrc)vm.showlrc.push({lyric:t.lrc[e]});else vm.showlrc.push({lyric:"暂无歌词"})},function(t){alert("服务器通信异常")});var r=void 0;for(var n in this.musicArray[a].artists)r+=this.musicArray[a].artists[n].name;e.style.backgroundImage="url("+this.musicArray[a].album.picUrl+")",vm.song_name=this.musicArray[a].name,vm.album_name=this.musicArray[a].album.name,vm.artist_name=r;var i=this.musicArray[a].mp3Url;t.setAttribute("src",i),t.volumn=.5,t.play()}}});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBsYXllci5qcyJdLCJuYW1lcyI6WyJ2bSIsIlZ1ZSIsImVsIiwiZGF0YSIsInNvbmdfbmFtZSIsImFsYnVtX25hbWUiLCJhcnRpc3RfbmFtZSIsInNob3dscmMiLCJtdXNpY0FycmF5IiwicGxheWluZ011c2ljIiwiaGF2ZXZvaWNlIiwicGxheVN0YXR1cyIsImNyZWF0ZWQiLCJ0aGlzIiwibG9hZE11c2ljIiwibWV0aG9kcyIsImdldEpTT04iLCJ1cmwiLCJwcm9taXNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJoYW5kbGVyIiwicmVhZHlTdGF0ZSIsInN0YXR1cyIsInJlc3BvbnNlIiwiRXJyb3IiLCJzdGF0dXNUZXh0IiwiY2xpZW50IiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVzcG9uc2VUeXBlIiwic2V0UmVxdWVzdEhlYWRlciIsInNlbmQiLCJjaGFuZ2VwbGF5IiwieUF1ZGlvIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInBsYXkiLCJwYXVzZSIsImlkIiwidGhlbiIsInRyYWNrcyIsIm11c2ljTGVuZ3RoIiwibGVuZ3RoIiwiYWxidW1fcGljIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsInN0eWxlIiwiYmFja2dyb3VuZEltYWdlIiwiY292ZXIiLCJscmMiLCJpIiwicHVzaCIsImx5cmljIiwibXVzaWNfbmFtZSIsImFydGlzdHMiLCJzZXRBdHRyaWJ1dGUiLCJtcDMiLCJ2b2x1bW4iLCJlcnJvciIsImFsZXJ0IiwiY2hhbmdldm9pY2UiLCJldmVudCIsInZvbHVtZSIsInZvbCIsIm5leHRtdXNpYyIsInJhbmRvbV9pbmRleCIsIk1hdGgiLCJjZWlsIiwicmFuZG9tIiwicmFuZG9tX2lkIiwiYXJ0aXN0c19uYW1lIiwidW5kZWZpbmVkIiwibmFtZSIsImFsYnVtIiwicGljVXJsIiwibXAzX2FkZHJlc3MiLCJtcDNVcmwiXSwibWFwcGluZ3MiOiJBQUlBLFlBRUEsSUFBSUEs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LEtBQUtMLFdBQVcyRCxHQUFjUSxNQUFNRCxLQUNwRDFFLEdBQUdNLFlBQWNrRSxDQUNqQixJQUFJSyxHQUFjaEUsS0FBS0wsV0FBVzJELEdBQWNXLE1BQ2hEMUMsR0FBT3FCLGFBQWEsTUFBT29CLEdBQzNCekMsRUFBT3VCLE9BQVMsR0FDaEJ2QixFQUFPRyIsImZpbGUiOiJwbGF5ZXIubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiogeVBsYXllclxuKiBBdXRob3IgeWFuZ3pqMTk5MlxuKi9cblwidXNlIHN0cmljdFwiO1xuXG52YXIgdm0gPSBuZXcgVnVlKHtcbiAgZWw6ICcjeW0tcGxheWVyJyxcbiAgZGF0YToge1xuICAgIHNvbmdfbmFtZTogJycsXG4gICAgYWxidW1fbmFtZTogJycsXG4gICAgYXJ0aXN0X25hbWU6ICcnLFxuICAgIHNob3dscmM6IFtdLFxuICAgIG11c2ljQXJyYXk6ICcnLFxuICAgIHBsYXlpbmdNdXNpYzogJycsXG4gICAgaGF2ZXZvaWNlOiB0cnVlLFxuICAgIHBsYXlTdGF0dXM6IHRydWVcbiAgfSxcbiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHtcbiAgICB0aGlzLmxvYWRNdXNpYygpO1xuICB9LFxuICBtZXRob2RzOiB7XG4gICAgZ2V0SlNPTjogZnVuY3Rpb24gZ2V0SlNPTih1cmwpIHtcbiAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICB2YXIgY2xpZW50ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIGNsaWVudC5vcGVuKFwiR0VUXCIsIHVybCk7XG4gICAgICAgIGNsaWVudC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBoYW5kbGVyO1xuICAgICAgICBjbGllbnQucmVzcG9uc2VUeXBlID0gXCJqc29uXCI7XG4gICAgICAgIGNsaWVudC5zZXRSZXF1ZXN0SGVhZGVyKFwiQWNjZXB0XCIsIFwiYXBwbGljYXRpb24vanNvblwiKTtcbiAgICAgICAgY2xpZW50LnNlbmQoKTtmdW5jdGlvbiBoYW5kbGVyKCkge1xuICAgICAgICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgIT09IDQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9aWYgKHRoaXMuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgIHJlc29sdmUodGhpcy5yZXNwb25zZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IodGhpcy5zdGF0dXNUZXh0KSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9LFxuICAgIGNoYW5nZXBsYXk6IGZ1bmN0aW9uIGNoYW5nZXBsYXkoKSB7XG4gICAgICB2YXIgeUF1ZGlvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BsYXllcicpO1xuICAgICAgaWYgKHRoaXMucGxheVN0YXR1cyA9PSBmYWxzZSkge1xuICAgICAgICB0aGlzLnBsYXlTdGF0dXMgPSB0cnVlO1xuICAgICAgICB5QXVkaW8ucGxheSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5wbGF5U3RhdHVzID0gZmFsc2U7XG4gICAgICAgIHlBdWRpby5wYXVzZSgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgbG9hZE11c2ljOiBmdW5jdGlvbiBsb2FkTXVzaWMoaWQpIHtcbiAgICAgIHZhciB1cmwgPSBpZCA/ICdnZXRTb25nLnBocD9pZD0nICsgaWQgOiAnZ2V0U29uZy5waHA/aWQ9MCc7XG4gICAgICB0aGlzLmdldEpTT04odXJsKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciB5QXVkaW8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGxheWVyJyk7XG4gICAgICAgIHZtLm11c2ljQXJyYXkgPSBkYXRhLnRyYWNrcztcbiAgICAgICAgdm0ubXVzaWNMZW5ndGggPSB2bS5tdXNpY0FycmF5Lmxlbmd0aDtcbiAgICAgICAgdmFyIGFsYnVtX3BpYyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3ltLWFsYnVtJylbMF07XG4gICAgICAgIGFsYnVtX3BpYy5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSAndXJsKCcgKyBkYXRhLmNvdmVyICsgJyknO1xuICAgICAgICBpZiAoZGF0YS5scmMgIT0gXCJub1wiKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSBpbiBkYXRhLmxyYykge1xuICAgICAgICAgICAgdm0uc2hvd2xyYy5wdXNoKHsgbHlyaWM6IGRhdGEubHJjW2ldIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2bS5zaG93bHJjLnB1c2goeyBseXJpYzogJ+aaguaXoOatjOivjScgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdm0uc29uZ19uYW1lID0gZGF0YS5tdXNpY19uYW1lO1xuICAgICAgICB2bS5hbGJ1bV9uYW1lID0gZGF0YS5hbGJ1bV9uYW1lO1xuICAgICAgICB2bS5hcnRpc3RfbmFtZSA9IGRhdGEuYXJ0aXN0cztcbiAgICAgICAgeUF1ZGlvLnNldEF0dHJpYnV0ZShcInNyY1wiLCBkYXRhLm1wMyk7XG4gICAgICAgIHlBdWRpby52b2x1bW4gPSAwLjU7XG4gICAgICAgIHlBdWRpby5wbGF5KCk7XG4gICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgYWxlcnQoJ+acjeWKoeWZqOmAmuS/oeW8guW4uCcpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBjaGFuZ2V2b2ljZTogZnVuY3Rpb24gY2hhbmdldm9pY2UoZXZlbnQpIHtcbiAgICAgIHZhciB5QXVkaW8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGxheWVyJyk7XG4gICAgICB5QXVkaW8udm9sdW1lID0gdm9sIC8gMTA7XG4gICAgfSxcbiAgICBuZXh0bXVzaWM6IGZ1bmN0aW9uIG5leHRtdXNpYygpIHtcbiAgICAgIHZhciB5QXVkaW8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGxheWVyJyk7XG4gICAgICB2YXIgYWxidW1fcGljID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgneW0tYWxidW0nKVswXTtcbiAgICAgIHZhciByYW5kb21faW5kZXggPSBNYXRoLmNlaWwoTWF0aC5yYW5kb20oKSAqIHRoaXMubXVzaWNMZW5ndGgpO1xuICAgICAgdmFyIHJhbmRvbV9pZCA9IHRoaXMubXVzaWNBcnJheVtyYW5kb21faW5kZXhdLmlkO1xuICAgICAgdGhpcy5zaG93bHJjID0gW107XG4gICAgICB0aGlzLmdldEpTT04oJ2dldEx5cmljcy5waHA/aWQ9JyArIHJhbmRvbV9pZCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBpZiAoZGF0YS5scmMgIT0gXCJub1wiKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSBpbiBkYXRhLmxyYykge1xuICAgICAgICAgICAgdm0uc2hvd2xyYy5wdXNoKHsgbHlyaWM6IGRhdGEubHJjW2ldIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2bS5zaG93bHJjLnB1c2goeyBseXJpYzogJ+aaguaXoOatjOivjScgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICBhbGVydCgn5pyN5Yqh5Zmo6YCa5L+h5byC5bi4Jyk7XG4gICAgICB9KTtcbiAgICAgIHZhciBhcnRpc3RzX25hbWUgPSB1bmRlZmluZWQ7XG4gICAgICBmb3IgKHZhciBpIGluIHRoaXMubXVzaWNBcnJheVtyYW5kb21faW5kZXhdLmFydGlzdHMpIHtcbiAgICAgICAgYXJ0aXN0c19uYW1lICs9IHRoaXMubXVzaWNBcnJheVtyYW5kb21faW5kZXhdLmFydGlzdHNbaV0ubmFtZTtcbiAgICAgIH1cbiAgICAgIGFsYnVtX3BpYy5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSAndXJsKCcgKyB0aGlzLm11c2ljQXJyYXlbcmFuZG9tX2luZGV4XS5hbGJ1bS5waWNVcmwgKyAnKSc7XG4gICAgICB2bS5zb25nX25hbWUgPSB0aGlzLm11c2ljQXJyYXlbcmFuZG9tX2luZGV4XS5uYW1lO1xuICAgICAgdm0uYWxidW1fbmFtZSA9IHRoaXMubXVzaWNBcnJheVtyYW5kb21faW5kZXhdLmFsYnVtLm5hbWU7XG4gICAgICB2bS5hcnRpc3RfbmFtZSA9IGFydGlzdHNfbmFtZTtcbiAgICAgIHZhciBtcDNfYWRkcmVzcyA9IHRoaXMubXVzaWNBcnJheVtyYW5kb21faW5kZXhdLm1wM1VybDtcbiAgICAgIHlBdWRpby5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgbXAzX2FkZHJlc3MpO1xuICAgICAgeUF1ZGlvLnZvbHVtbiA9IDAuNTtcbiAgICAgIHlBdWRpby5wbGF5KCk7XG4gICAgfVxuICB9XG59KTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
