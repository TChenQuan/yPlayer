"use strict";var vm=new Vue({el:"#ym-player",data:{song_name:"",album_name:"",artist_name:"",showlrc:[],musicArray:"",playingMusic:"",playingIndex:"",havevoice:!0,playStatus:!0,backIndex:"",backMusic:"",ontime:!1},created:function(){this.loadMusic()},methods:{getJSON:function(t){var a=new Promise(function(a,s){function e(){4===this.readyState&&(200===this.status?a(this.response):s(new Error(this.statusText)))}var i=new XMLHttpRequest;i.open("GET",t),i.onreadystatechange=e,i.responseType="json",i.setRequestHeader("Accept","application/json"),i.send()});return a},changePlay:function(){var t=document.getElementById("player");0==this.playStatus?(this.playStatus=!0,t.play()):(this.playStatus=!1,t.pause())},loadMusic:function(t){var a=t?"getSong.php?id="+t:"getSong.php?id=0";this.getJSON(a).then(function(t){var a=document.getElementById("player");vm.musicArray=t.tracks,vm.musicLength=vm.musicArray.length;var s=document.getElementsByClassName("ym-album")[0];s.style.backgroundImage="url("+t.cover+")","no"!=t.lrc?vm.showlrc=t.lrc:vm.showlrc=[{lyric:"暂无歌词"}],vm.song_name=t.music_name,vm.album_name=t.album_name,vm.artist_name=t.artists,vm.playingMusic=t.id,vm.playingIndex=t.index,a.setAttribute("src",t.mp3),a.volumn=.5,a.play()},function(t){alert("服务器通信异常")})},changeVoice:function(t){var a=document.getElementById("player");a.volume=t.target.value/10},backMusic:function(){var t=document.getElementById("player"),a=document.getElementsByClassName("ym-album")[0],s=Math.ceil(Math.random()*this.musicLength),e=this.musicArray[s].id;this.showlrc=[],this.getJSON("getLyrics.php?id="+e).then(function(t){"no"!=t.lrc?vm.showlrc=t.lrc:vm.showlrc=[{lyric:"暂无歌词"}]},function(t){alert("服务器通信异常")});var i="";for(var r in this.musicArray[s].artists)i+=this.musicArray[s].artists[r].name;a.style.backgroundImage="url("+this.musicArray[s].album.picUrl+")",this.playingMusic=this.musicArray[s].id,this.song_name=this.musicArray[s].name,this.album_name=this.musicArray[s].album.name,this.artist_name=i;var n=this.musicArray[s].mp3Url;t.setAttribute("src",n),t.volumn=.5,t.play()},nextMusic:function(){var t=document.getElementById("player");this.backMusic=this.playingMusic,this.backMusic=this.playingMusic;var a=document.getElementsByClassName("ym-album")[0],s=Math.ceil(Math.random()*this.musicLength),e=this.musicArray[s].id;this.showlrc=[],this.getJSON("getLyrics.php?id="+e).then(function(t){"no"!=t.lrc?vm.showlrc=t.lrc:vm.showlrc=[{lyric:"暂无歌词"}]},function(t){alert("服务器通信异常")});var i="";for(var r in this.musicArray[s].artists)i+=this.musicArray[s].artists[r].name;a.style.backgroundImage="url("+this.musicArray[s].album.picUrl+")",this.playingMusic=this.musicArray[s].id,this.song_name=this.musicArray[s].name,this.album_name=this.musicArray[s].album.name,this.artist_name=i;var n=this.musicArray[s].mp3Url;t.setAttribute("src",n),t.volumn=.5,t.play()},display_lrc:function(){var t=document.getElementById("player");play_time=Math.floor(t.currentTime).toString(),this.ontime=!0}}});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBsYXllci5qcyJdLCJuYW1lcyI6WyJ2bSIsIlZ1ZSIsImVsIiwiZGF0YSIsInNvbmdfbmFtZSIsImFsYnVtX25hbWUiLCJhcnRpc3RfbmFtZSIsInNob3dscmMiLCJtdXNpY0FycmF5IiwicGxheWluZ011c2ljIiwicGxheWluZ0luZGV4IiwiaGF2ZXZvaWNlIiwicGxheVN0YXR1cyIsImJhY2tJbmRleCIsImJhY2tNdXNpYyIsIm9udGltZSIsImNyZWF0ZWQiLCJ0aGlzIiwibG9hZE11c2ljIiwibWV0aG9kcyIsImdldEpTT04iLCJ1cmwiLCJwcm9taXNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJoYW5kbGVyIiwicmVhZHlTdGF0ZSIsInN0YXR1cyIsInJlc3BvbnNlIiwiRXJyb3IiLCJzdGF0dXNUZXh0IiwiY2xpZW50IiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVzcG9uc2VUeXBlIiwic2V0UmVxdWVzdEhlYWRlciIsInNlbmQiLCJjaGFuZ2VQbGF5IiwieUF1ZGlvIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInBsYXkiLCJwYXVzZSIsImlkIiwidGhlbiIsInRyYWNrcyIsIm11c2ljTGVuZ3RoIiwibGVuZ3RoIiwiYWxidW1fcGljIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsInN0eWxlIiwiYmFja2dyb3VuZEltYWdlIiwiY292ZXIiLCJscmMiLCJseXJpYyIsIm11c2ljX25hbWUiLCJhcnRpc3RzIiwiaW5kZXgiLCJzZXRBdHRyaWJ1dGUiLCJtcDMiLCJ2b2x1bW4iLCJlcnJvciIsImFsZXJ0IiwiY2hhbmdlVm9pY2UiLCJldmVudCIsInZvbHVtZSIsInRhcmdldCIsInZhbHVlIiwicmFuZG9tX2luZGV4IiwiTWF0aCIsImNlaWwiLCJyYW5kb20iLCJyYW5kb21faWQiLCJhcnRpc3RzX25hbWUiLCJpIiwibmFtZSIsImFsYnVtIiwicGljVXJsIiwibXAzX2FkZHJlc3MiLCJtcDNVcmwiLCJuZXh0TXVzaWMiLCJkaXNwbGF5X2xyYyIsInBsYXlfdGltZSIsImZsb29yIiwiY3VycmVudFRpbWUiLCJ0b1N0cmluZyJdLCJtYXBwaW5ncyI6IkFBSUEsWUFFQSxJQUFJQSxJQUFLLEdBQUlDLE1BQ1hDLEdBQUksYUFDSkMsTUFDRUMsVUFBVyxHQUNYQyxXQUFZLEdBQ1pDLFlBQWEsR0FDYkMsV0FDQUMsV0FBWSxHQUNaQyxhQUFjLEdBQ2RDLGFBQWMsR0FDZEMsV0FBVyxFQUNYQyxZQUFZLEVBQ1pDLFVBQVcsR0FDWEMsVUFBVyxHQUNYQyxRQUFRLEdBRVZDLFFBQVMsV0FDUEMsS0FBS0MsYUFFUEMsU0FDRUMsUUFBUyxTQUFpQkMsR0FDeEIsR0FBSUMsR0FBVSxHQUFJQyxTQUFRLFNBQVVDLEVBQVNDLEdBTTdCLFFBQVNDLEtBQ0csSUFBcEJULEtBQUtVLGFBRVksTUFBaEJWLEtBQUtXLE9BQ1JKLEVBQVFQLEtBQUtZLFVBRWJKLEVBQU8sR0FBSUssT0FBTWIsS0FBS2MsY0FYMUIsR0FBSUMsR0FBUyxHQUFJQyxlQUNqQkQsR0FBT0UsS0FBSyxNQUFPYixHQUNuQlcsRUFBT0csbUJBQXFCVCxFQUM1Qk0sRUFBT0ksYUFBZSxPQUN0QkosRUFBT0ssaUJBQWlCLFNBQVUsb0JBQ2xDTCxFQUFPTSxRQVVULE9BQU9oQixJQUVUaUIsV0FBWSxXQUNWLEdBQUlDLEdBQVNDLFNBQVNDLGVBQWUsU0FDZCxJQUFuQnpCLEtBQUtMLFlBQ1BLLEtBQUtMLFlBQWEsRUFDbEI0QixFQUFPRyxTQUVQMUIsS0FBS0wsWUFBYSxFQUNsQjRCLEVBQU9JLFVBR1gxQixVQUFXLFNBQW1CMkIsR0FDNUIsR0FBSXhCLEdBQU13QixFQUFLLGtCQUFvQkEsRUFBSyxrQkFDeEM1QixNQUFLRyxRQUFRQyxHQUFLeUIsS0FBSyxTQUFVM0MsR0FDL0IsR0FBSXFDLEdBQVNDLFNBQVNDLGVBQWUsU0FDckMxQyxJQUFHUSxXQUFhTCxFQUFLNEMsT0FDckIvQyxHQUFHZ0QsWUFBY2hELEdBQUdRLFdBQVd5QyxNQUMvQixJ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QUtaLFdBQWFZLEtBQUtULFdBQVc4RCxHQUFjUSxNQUFNRCxLQUN0RDVELEtBQUtYLFlBQWNxRSxDQUNuQixJQUFJSyxHQUFjL0QsS0FBS1QsV0FBVzhELEdBQWNXLE1BQ2hEekMsR0FBT29CLGFBQWEsTUFBT29CLEdBQzNCeEMsRUFBT3NCLE9BQVMsR0FDaEJ0QixFQUFPRyxRQUVUd0MsWUFBYSxXQUNYLEdBQUkzQyxHQUFTQyxTQUFTQyxlQUFlLFNBQ3JDMEMsV0FBWWIsS0FBS2MsTUFBTTdDLEVBQU84QyxhQUFhQyxXQUMzQ3RFLEtBQUtGLFFBQVMiLCJmaWxlIjoicGxheWVyLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4qIHlQbGF5ZXJcbiogQXV0aG9yIHlhbmd6ajE5OTJcbiovXG5cInVzZSBzdHJpY3RcIjtcblxudmFyIHZtID0gbmV3IFZ1ZSh7XG4gIGVsOiAnI3ltLXBsYXllcicsXG4gIGRhdGE6IHtcbiAgICBzb25nX25hbWU6ICcnLFxuICAgIGFsYnVtX25hbWU6ICcnLFxuICAgIGFydGlzdF9uYW1lOiAnJyxcbiAgICBzaG93bHJjOiBbXSxcbiAgICBtdXNpY0FycmF5OiAnJyxcbiAgICBwbGF5aW5nTXVzaWM6ICcnLFxuICAgIHBsYXlpbmdJbmRleDogJycsXG4gICAgaGF2ZXZvaWNlOiB0cnVlLFxuICAgIHBsYXlTdGF0dXM6IHRydWUsXG4gICAgYmFja0luZGV4OiAnJyxcbiAgICBiYWNrTXVzaWM6ICcnLFxuICAgIG9udGltZTogZmFsc2VcbiAgfSxcbiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHtcbiAgICB0aGlzLmxvYWRNdXNpYygpO1xuICB9LFxuICBtZXRob2RzOiB7XG4gICAgZ2V0SlNPTjogZnVuY3Rpb24gZ2V0SlNPTih1cmwpIHtcbiAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICB2YXIgY2xpZW50ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIGNsaWVudC5vcGVuKFwiR0VUXCIsIHVybCk7XG4gICAgICAgIGNsaWVudC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBoYW5kbGVyO1xuICAgICAgICBjbGllbnQucmVzcG9uc2VUeXBlID0gXCJqc29uXCI7XG4gICAgICAgIGNsaWVudC5zZXRSZXF1ZXN0SGVhZGVyKFwiQWNjZXB0XCIsIFwiYXBwbGljYXRpb24vanNvblwiKTtcbiAgICAgICAgY2xpZW50LnNlbmQoKTtmdW5jdGlvbiBoYW5kbGVyKCkge1xuICAgICAgICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgIT09IDQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9aWYgKHRoaXMuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgIHJlc29sdmUodGhpcy5yZXNwb25zZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IodGhpcy5zdGF0dXNUZXh0KSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9LFxuICAgIGNoYW5nZVBsYXk6IGZ1bmN0aW9uIGNoYW5nZVBsYXkoKSB7XG4gICAgICB2YXIgeUF1ZGlvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BsYXllcicpO1xuICAgICAgaWYgKHRoaXMucGxheVN0YXR1cyA9PSBmYWxzZSkge1xuICAgICAgICB0aGlzLnBsYXlTdGF0dXMgPSB0cnVlO1xuICAgICAgICB5QXVkaW8ucGxheSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5wbGF5U3RhdHVzID0gZmFsc2U7XG4gICAgICAgIHlBdWRpby5wYXVzZSgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgbG9hZE11c2ljOiBmdW5jdGlvbiBsb2FkTXVzaWMoaWQpIHtcbiAgICAgIHZhciB1cmwgPSBpZCA/ICdnZXRTb25nLnBocD9pZD0nICsgaWQgOiAnZ2V0U29uZy5waHA/aWQ9MCc7XG4gICAgICB0aGlzLmdldEpTT04odXJsKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciB5QXVkaW8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGxheWVyJyk7XG4gICAgICAgIHZtLm11c2ljQXJyYXkgPSBkYXRhLnRyYWNrcztcbiAgICAgICAgdm0ubXVzaWNMZW5ndGggPSB2bS5tdXNpY0FycmF5Lmxlbmd0aDtcbiAgICAgICAgdmFyIGFsYnVtX3BpYyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3ltLWFsYnVtJylbMF07XG4gICAgICAgIGFsYnVtX3BpYy5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSAndXJsKCcgKyBkYXRhLmNvdmVyICsgJyknO1xuICAgICAgICBpZiAoZGF0YS5scmMgIT0gXCJub1wiKSB7XG4gICAgICAgICAgdm0uc2hvd2xyYyA9IGRhdGEubHJjO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZtLnNob3dscmMgPSBbeyBseXJpYzogJ+aaguaXoOatjOivjScgfV07XG4gICAgICAgIH1cbiAgICAgICAgdm0uc29uZ19uYW1lID0gZGF0YS5tdXNpY19uYW1lO1xuICAgICAgICB2bS5hbGJ1bV9uYW1lID0gZGF0YS5hbGJ1bV9uYW1lO1xuICAgICAgICB2bS5hcnRpc3RfbmFtZSA9IGRhdGEuYXJ0aXN0cztcbiAgICAgICAgdm0ucGxheWluZ011c2ljID0gZGF0YS5pZDtcbiAgICAgICAgdm0ucGxheWluZ0luZGV4ID0gZGF0YS5pbmRleDtcbiAgICAgICAgeUF1ZGlvLnNldEF0dHJpYnV0ZShcInNyY1wiLCBkYXRhLm1wMyk7XG4gICAgICAgIHlBdWRpby52b2x1bW4gPSAwLjU7XG4gICAgICAgIHlBdWRpby5wbGF5KCk7XG4gICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgYWxlcnQoJ+acjeWKoeWZqOmAmuS/oeW8guW4uCcpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBjaGFuZ2VWb2ljZTogZnVuY3Rpb24gY2hhbmdlVm9pY2UoZXZlbnQpIHtcbiAgICAgIHZhciB5QXVkaW8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGxheWVyJyk7XG4gICAgICB5QXVkaW8udm9sdW1lID0gZXZlbnQudGFyZ2V0LnZhbHVlIC8gMTA7XG4gICAgfSxcbiAgICBiYWNrTXVzaWM6IGZ1bmN0aW9uIGJhY2tNdXNpYygpIHtcbiAgICAgIHZhciB5QXVkaW8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGxheWVyJyk7XG4gICAgICB2YXIgYWxidW1fcGljID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgneW0tYWxidW0nKVswXTtcbiAgICAgIHZhciByYW5kb21faW5kZXggPSBNYXRoLmNlaWwoTWF0aC5yYW5kb20oKSAqIHRoaXMubXVzaWNMZW5ndGgpO1xuICAgICAgdmFyIHJhbmRvbV9pZCA9IHRoaXMubXVzaWNBcnJheVtyYW5kb21faW5kZXhdLmlkO1xuICAgICAgdGhpcy5zaG93bHJjID0gW107XG4gICAgICB0aGlzLmdldEpTT04oJ2dldEx5cmljcy5waHA/aWQ9JyArIHJhbmRvbV9pZCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBpZiAoZGF0YS5scmMgIT0gXCJub1wiKSB7XG4gICAgICAgICAgdm0uc2hvd2xyYyA9IGRhdGEubHJjO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZtLnNob3dscmMgPSBbeyBseXJpYzogJ+aaguaXoOatjOivjScgfV07XG4gICAgICAgIH1cbiAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICBhbGVydCgn5pyN5Yqh5Zmo6YCa5L+h5byC5bi4Jyk7XG4gICAgICB9KTtcbiAgICAgIHZhciBhcnRpc3RzX25hbWUgPSAnJztcbiAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5tdXNpY0FycmF5W3JhbmRvbV9pbmRleF0uYXJ0aXN0cykge1xuICAgICAgICBhcnRpc3RzX25hbWUgKz0gdGhpcy5tdXNpY0FycmF5W3JhbmRvbV9pbmRleF0uYXJ0aXN0c1tpXS5uYW1lO1xuICAgICAgfVxuICAgICAgYWxidW1fcGljLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9ICd1cmwoJyArIHRoaXMubXVzaWNBcnJheVtyYW5kb21faW5kZXhdLmFsYnVtLnBpY1VybCArICcpJztcbiAgICAgIHRoaXMucGxheWluZ011c2ljID0gdGhpcy5tdXNpY0FycmF5W3JhbmRvbV9pbmRleF0uaWQ7XG4gICAgICB0aGlzLnNvbmdfbmFtZSA9IHRoaXMubXVzaWNBcnJheVtyYW5kb21faW5kZXhdLm5hbWU7XG4gICAgICB0aGlzLmFsYnVtX25hbWUgPSB0aGlzLm11c2ljQXJyYXlbcmFuZG9tX2luZGV4XS5hbGJ1bS5uYW1lO1xuICAgICAgdGhpcy5hcnRpc3RfbmFtZSA9IGFydGlzdHNfbmFtZTtcbiAgICAgIHZhciBtcDNfYWRkcmVzcyA9IHRoaXMubXVzaWNBcnJheVtyYW5kb21faW5kZXhdLm1wM1VybDtcbiAgICAgIHlBdWRpby5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgbXAzX2FkZHJlc3MpO1xuICAgICAgeUF1ZGlvLnZvbHVtbiA9IDAuNTtcbiAgICAgIHlBdWRpby5wbGF5KCk7XG4gICAgfSxcbiAgICBuZXh0TXVzaWM6IGZ1bmN0aW9uIG5leHRNdXNpYygpIHtcbiAgICAgIHZhciB5QXVkaW8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGxheWVyJyk7XG4gICAgICB0aGlzLmJhY2tNdXNpYyA9IHRoaXMucGxheWluZ011c2ljO1xuICAgICAgdGhpcy5iYWNrTXVzaWMgPSB0aGlzLnBsYXlpbmdNdXNpYztcbiAgICAgIHZhciBhbGJ1bV9waWMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd5bS1hbGJ1bScpWzBdO1xuICAgICAgdmFyIHJhbmRvbV9pbmRleCA9IE1hdGguY2VpbChNYXRoLnJhbmRvbSgpICogdGhpcy5tdXNpY0xlbmd0aCk7XG4gICAgICB2YXIgcmFuZG9tX2lkID0gdGhpcy5tdXNpY0FycmF5W3JhbmRvbV9pbmRleF0uaWQ7XG4gICAgICB0aGlzLnNob3dscmMgPSBbXTtcbiAgICAgIHRoaXMuZ2V0SlNPTignZ2V0THlyaWNzLnBocD9pZD0nICsgcmFuZG9tX2lkKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhLmxyYyAhPSBcIm5vXCIpIHtcbiAgICAgICAgICB2bS5zaG93bHJjID0gZGF0YS5scmM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdm0uc2hvd2xyYyA9IFt7IGx5cmljOiAn5pqC5peg5q2M6K+NJyB9XTtcbiAgICAgICAgfVxuICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIGFsZXJ0KCfmnI3liqHlmajpgJrkv6HlvILluLgnKTtcbiAgICAgIH0pO1xuICAgICAgdmFyIGFydGlzdHNfbmFtZSA9ICcnO1xuICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLm11c2ljQXJyYXlbcmFuZG9tX2luZGV4XS5hcnRpc3RzKSB7XG4gICAgICAgIGFydGlzdHNfbmFtZSArPSB0aGlzLm11c2ljQXJyYXlbcmFuZG9tX2luZGV4XS5hcnRpc3RzW2ldLm5hbWU7XG4gICAgICB9XG4gICAgICBhbGJ1bV9waWMuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gJ3VybCgnICsgdGhpcy5tdXNpY0FycmF5W3JhbmRvbV9pbmRleF0uYWxidW0ucGljVXJsICsgJyknO1xuICAgICAgdGhpcy5wbGF5aW5nTXVzaWMgPSB0aGlzLm11c2ljQXJyYXlbcmFuZG9tX2luZGV4XS5pZDtcbiAgICAgIHRoaXMuc29uZ19uYW1lID0gdGhpcy5tdXNpY0FycmF5W3JhbmRvbV9pbmRleF0ubmFtZTtcbiAgICAgIHRoaXMuYWxidW1fbmFtZSA9IHRoaXMubXVzaWNBcnJheVtyYW5kb21faW5kZXhdLmFsYnVtLm5hbWU7XG4gICAgICB0aGlzLmFydGlzdF9uYW1lID0gYXJ0aXN0c19uYW1lO1xuICAgICAgdmFyIG1wM19hZGRyZXNzID0gdGhpcy5tdXNpY0FycmF5W3JhbmRvbV9pbmRleF0ubXAzVXJsO1xuICAgICAgeUF1ZGlvLnNldEF0dHJpYnV0ZShcInNyY1wiLCBtcDNfYWRkcmVzcyk7XG4gICAgICB5QXVkaW8udm9sdW1uID0gMC41O1xuICAgICAgeUF1ZGlvLnBsYXkoKTtcbiAgICB9LFxuICAgIGRpc3BsYXlfbHJjOiBmdW5jdGlvbiBkaXNwbGF5X2xyYygpIHtcbiAgICAgIHZhciB5QXVkaW8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGxheWVyJyk7XG4gICAgICBwbGF5X3RpbWUgPSBNYXRoLmZsb29yKHlBdWRpby5jdXJyZW50VGltZSkudG9TdHJpbmcoKTtcbiAgICAgIHRoaXMub250aW1lID0gdHJ1ZTtcbiAgICB9XG4gIH1cbn0pOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
